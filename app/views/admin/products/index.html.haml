.container-fluid
  .row
    .col-md-2.text-center
      .list-group
        .list-group-item
          %h3.filters-header
            = icon 'search'
            Filtrowanie
            %span.caret-wrap
              %span.caret
        .list-group-item.filters
          = form_tag(admin_products_path, method: :get, id: "filters-form") do
            .price
              %h4 Cena
              = text_field_tag 'price_min', nil, placeholder: "od", value: @price_low
              = text_field_tag 'price_max', nil, placeholder: "do", value: @price_high
            %hr
            .categories
              %h4 Kategorie
              - @categories.each do |category|
                = label_tag do
                  = check_box_tag 'cid[]', category.id, ( !@cid.blank? and @cid.include?( (category.id).to_s ) )
                  = category.name.capitalize
            %hr
            .gears
              %h4 Typy
              - @gears.each do |gear|
                = label_tag do
                  = check_box_tag 'g[]', gear.id, ( !@g.blank? and @g.include?( (gear.id).to_s ) )
                  = gear.name
            %hr
            .models
              - unless @models == nil
                %h4 Modele
                - @models.each do |model|
                  = label_tag do
                    = check_box_tag 'm[]', model.id, ( !@m.blank? and @m.include?( (model.id).to_s ) )
                    = model.name
                %hr
            = button_tag 'Filtruj!', name: nil, class: "btn btn-default"
    .col-sm-10
      %h2 Twoje produkty
      .row
        .col-sm-2
          %a.btn.btn-primary.btn-block{:type => "button", :href => new_admin_product_path } Dodaj produkt
          %br/
      .row
        .col-sm-10
          %table#example2.table.table-bordered.table-hover.dataTable{"aria-describedby" => "example2_info", :role => "grid"}
            %thead
              %tr{:role => "row"}
                %th.sorting{"aria-controls" => "example2", "aria-label" => "CSS grade: activate to sort column ascending", :colspan => "1", :rowspan => "1", :tabindex => "0"}
                %th.sorting_asc{"aria-controls" => "example2", "aria-label" => "Rendering engine: activate to sort column descending", "aria-sort" => "ascending", :colspan => "1", :rowspan => "1", :tabindex => "0"} Produkt
                %th.sorting{"aria-controls" => "example2", "aria-label" => "CSS grade: activate to sort column ascending", :colspan => "1", :rowspan => "1", :tabindex => "0"} Cena
                %th.sorting{"aria-controls" => "example2", "aria-label" => "CSS grade: activate to sort column ascending", :colspan => "1", :rowspan => "1", :tabindex => "0"} Kategoria
                %th.sorting{"aria-controls" => "example2", "aria-label" => "CSS grade: activate to sort column ascending", :colspan => "1", :rowspan => "1", :tabindex => "0"} Typ
                %th.sorting{"aria-controls" => "example2", "aria-label" => "CSS grade: activate to sort column ascending", :colspan => "1", :rowspan => "1", :tabindex => "0"} Model
                %th.sorting{"aria-controls" => "example2", "aria-label" => "CSS grade: activate to sort column ascending", :colspan => "1", :rowspan => "1", :tabindex => "0"} Akcje
            %tbody
              - @products.each do |p|
                %tr.odd{:role => "row"}
                  %td=  image_tag p.product_images.first.photo(:miniature)
                  %td=  p.name
                  %td=  p.price
                  %td=  p.category.name
                  %td=  p.gear.parent.name
                  %td=  p.gear.name
                  %td= button_to "Szczegóły", { action: "show", id: p.id }, method: 'get',class: 'btn btn-primary'
            %tfoot
      .row
        .col-sm-5
          #example2_info.dataTables_info{"aria-live" => "polite", :role => "status"}#{@products.count} produktów
